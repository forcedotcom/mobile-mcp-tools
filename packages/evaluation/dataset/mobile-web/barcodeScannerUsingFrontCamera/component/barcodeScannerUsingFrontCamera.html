<template>
  <lightning-card title="Barcode Scanner" icon-name="utility:scan">
    <div class="slds-p-around_medium">
      <lightning-button
        label="Scan Barcode"
        variant="brand"
        onclick="{handleBeginScan}"
        disabled="{scanButtonDisabled}"
      >
      </lightning-button>

      <template if:true="{errorMessage}">
        <div class="slds-notify slds-notify_alert slds-theme_error slds-m-top_medium">
          <span class="slds-assistive-text">Error</span>
          <span class="slds-icon_container slds-icon-utility-error slds-m-right_x-small">
            <lightning-icon icon-name="utility:error" size="x-small"></lightning-icon>
          </span>
          {errorMessage}
        </div>
      </template>

      <template if:true="{scannedBarcodes}">
        <div class="slds-m-top_medium">
          <h3 class="slds-text-heading_small">Scan Results</h3>
          <ul class="slds-list_dotted">
            <template for:each="{scannedBarcodes}" for:item="barcode">
              <li key="{barcode.value}">
                <strong>Type:</strong> {barcode.type}<br />
                <strong>Value:</strong> {barcode.value}
              </li>
            </template>
          </ul>
        </div>
      </template>
    </div>
  </lightning-card>
</template>
