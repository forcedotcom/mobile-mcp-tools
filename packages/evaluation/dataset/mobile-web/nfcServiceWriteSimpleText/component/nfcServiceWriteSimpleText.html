<template>
  <lightning-card title="NFC Tag Writer" icon-name="utility:scan">
    <div class="slds-p-around_medium">
      <lightning-textarea
        label="Message to write to NFC tag"
        value="{message}"
        onchange="{handleMessageChange}"
        placeholder="Enter your message here"
      ></lightning-textarea>

      <div class="slds-m-top_medium">
        <lightning-button
          label="Write to NFC Tag"
          variant="brand"
          onclick="{handleWriteClick}"
          disabled="{isNfcUnavailable}"
        ></lightning-button>
      </div>

      <template if:true="{error}">
        <div class="slds-notify slds-notify_alert slds-theme_error slds-m-top_medium" role="alert">
          <span class="slds-assistive-text">Error</span>
          <span
            class="slds-icon_container slds-icon-utility-error slds-m-right_x-small"
            title="Error"
          >
            <lightning-icon icon-name="utility:error" size="x-small"></lightning-icon>
          </span>
          <h2>{error}</h2>
        </div>
      </template>

      <template if:true="{successMessage}">
        <div
          class="slds-notify slds-notify_alert slds-theme_success slds-m-top_medium"
          role="alert"
        >
          <span class="slds-assistive-text">Success</span>
          <span
            class="slds-icon_container slds-icon-utility-success slds-m-right_x-small"
            title="Success"
          >
            <lightning-icon icon-name="utility:success" size="x-small"></lightning-icon>
          </span>
          <h2>{successMessage}</h2>
        </div>
      </template>

      <template if:true="{isNfcUnavailable}">
        <div
          class="slds-notify slds-notify_alert slds-theme_warning slds-m-top_medium"
          role="alert"
        >
          <span class="slds-assistive-text">Warning</span>
          <span
            class="slds-icon_container slds-icon-utility-warning slds-m-right_x-small"
            title="Warning"
          >
            <lightning-icon icon-name="utility:warning" size="x-small"></lightning-icon>
          </span>
          <h2>NFC is not available on this device. Please use a supported mobile device.</h2>
        </div>
      </template>
    </div>
  </lightning-card>
</template>
